!function(t,i){"player"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t.GLMath=t.GLMath||{})}(this,function(t){"use strict";function i(t, i, n, s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new i.constructor(n),this.sampleValues=i,this.valueSize=n}function n(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("GLMath.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function s(t,i,n){this.x=t||0,this.y=i||0,this.z=n||0}function r(t,i,n,s){this._x=t||0,this._y=i||0,this._z=n||0,this._w=void 0!==s?s:1}function e(t,n,s,r){i.call(this,t,n,s,r)}function h(t,n,s,r){i.call(this,t,n,s,r)}function a(t,n,s,r){i.call(this,t,n,s,r)}function o(t,n,s,r){i.call(this,t,n,s,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function u(t,i){this.start=void 0!==t?t:new s,this.end=void 0!==i?i:new s}function c(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("GLMath.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function l(t,i){this.normal=void 0!==t?t:new s(1,0,0),this.constant=void 0!==i?i:0}function m(t,i,n){this.a=void 0!==t?t:new s,this.b=void 0!==i?i:new s,this.c=void 0!==n?n:new s}function f(t,i,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==i?i:0,this.theta=void 0!==n?n:0,this}function y(t,i,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==i?i:0,this.y=void 0!==n?n:0,this}function x(t,i){this.min=void 0!==t?t:new s(1/0,1/0,1/0),this.max=void 0!==i?i:new s(-1/0,-1/0,-1/0)}function d(t,i){this.center=void 0!==t?t:new s,this.radius=void 0!==i?i:0}function p(t,i,n,s,r,e){this.planes=[void 0!==t?t:new l,void 0!==i?i:new l,void 0!==n?n:new l,void 0!==s?s:new l,void 0!==r?r:new l,void 0!==e?e:new l]}function g(t,i){this.origin=void 0!==t?t:new s,this.direction=void 0!==i?i:new s}function v(t,i){this.x=t||0,this.y=i||0}function w(t,i){this.min=void 0!==t?t:new v(1/0,1/0),this.max=void 0!==i?i:new v(-1/0,-1/0)}function M(t,i,n,s){this._x=t||0,this._y=i||0,this._z=n||0,this._order=s||M.DefaultOrder}function z(t,i,n,s){this.x=t||0,this.y=i||0,this.z=n||0,this.w=void 0!==s?s:1}function b(t,i,n){return void 0===i&&void 0===n?this.set(t):this.setRGB(t,i,n)}Object.assign(i.prototype,{evaluate:function(t){var i=this.parameterPositions,n=this._cachedIndex,s=i[n],r=i[n-1];t:{i:{var e;n:{s:if(!(t<s)){for(a=n+2;;){if(void 0===s){if(t<r)break s;return n=i.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===a)break;if(r=s,s=i[++n],t<s)break i}e=i.length;break n}{if(t>=r)break t;var h=i[1];t<h&&(n=2,r=h);for(var a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(n===a)break;if(s=r,r=i[--n-1],t>=r)break i}e=n,n=0}}for(;n<e;){var o=n+e>>>1;t<i[o]?e=o:n=o+1}if(s=i[n],void 0===(r=i[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,s);if(void 0===s)return n=i.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,s)}return this.interpolate_(n,r,t,s)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var i=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=t*s,e=0;e!==s;++e)i[e]=n[r+e];return i},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(i.prototype,{beforeStart_:i.prototype.copySampleValue_,afterEnd_:i.prototype.copySampleValue_});var _={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=0;return function(){for(var s="",r=0;r<36;r++)8===r||13===r||18===r||23===r?s+="-":14===r?s+="4":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,s+=i[19===r?3&t|8:t]);return s}}(),clamp:function(t,i,n){return Math.max(i,Math.min(n,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,n,s,r){return s+(t-i)*(r-s)/(n-i)},lerp:function(t,i,n){return(1-n)*t+n*i},smoothstep:function(t,i,n){return t<=i?0:t>=n?1:(t=(t-i)/(n-i))*t*(3-2*t)},smootherstep:function(t,i,n){return t<=i?0:t>=n?1:(t=(t-i)/(n-i))*t*t*(t*(6*t-15)+10)},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*_.DEG2RAD},radToDeg:function(t){return t*_.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};Object.assign(n.prototype,{isMatrix4:!0,set:function(t,i,n,s,r,e,h,a,o,u,c,l,m,f,y,x){var d=this.elements;return d[0]=t,d[4]=i,d[8]=n,d[12]=s,d[1]=r,d[5]=e,d[9]=h,d[13]=a,d[2]=o,d[6]=u,d[10]=c,d[14]=l,d[3]=m,d[7]=f,d[11]=y,d[15]=x,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new n).fromArray(this.elements)},copy:function(t){var i=this.elements,n=t.elements;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this},copyPosition:function(t){var i=this.elements,n=t.elements;return i[12]=n[12],i[13]=n[13],i[14]=n[14],this},extractBasis:function(t,i,n){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,i,n){return this.set(t.x,i.x,n.x,0,t.y,i.y,n.y,0,t.z,i.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new s;return function(i){var n=this.elements,s=i.elements,r=1/t.setFromMatrixColumn(i,0).length(),e=1/t.setFromMatrixColumn(i,1).length(),h=1/t.setFromMatrixColumn(i,2).length();return n[0]=s[0]*r,n[1]=s[1]*r,n[2]=s[2]*r,n[4]=s[4]*e,n[5]=s[5]*e,n[6]=s[6]*e,n[8]=s[8]*h,n[9]=s[9]*h,n[10]=s[10]*h,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("GLMath.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=this.elements,n=t.x,s=t.y,r=t.z,e=Math.cos(n),h=Math.sin(n),a=Math.cos(s),o=Math.sin(s),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var l=e*u,m=e*c,f=h*u,y=h*c;i[0]=a*u,i[4]=-a*c,i[8]=o,i[1]=m+f*o,i[5]=l-y*o,i[9]=-h*a,i[2]=y-l*o,i[6]=f+m*o,i[10]=e*a}else if("YXZ"===t.order){var x=a*u,d=a*c,p=o*u,g=o*c;i[0]=x+g*h,i[4]=p*h-d,i[8]=e*o,i[1]=e*c,i[5]=e*u,i[9]=-h,i[2]=d*h-p,i[6]=g+x*h,i[10]=e*a}else if("ZXY"===t.order){var x=a*u,d=a*c,p=o*u,g=o*c;i[0]=x-g*h,i[4]=-e*c,i[8]=p+d*h,i[1]=d+p*h,i[5]=e*u,i[9]=g-x*h,i[2]=-e*o,i[6]=h,i[10]=e*a}else if("ZYX"===t.order){var l=e*u,m=e*c,f=h*u,y=h*c;i[0]=a*u,i[4]=f*o-m,i[8]=l*o+y,i[1]=a*c,i[5]=y*o+l,i[9]=m*o-f,i[2]=-o,i[6]=h*a,i[10]=e*a}else if("YZX"===t.order){var v=e*a,w=e*o,M=h*a,z=h*o;i[0]=a*u,i[4]=z-v*c,i[8]=M*c+w,i[1]=c,i[5]=e*u,i[9]=-h*u,i[2]=-o*u,i[6]=w*c+M,i[10]=v-z*c}else if("XZY"===t.order){var v=e*a,w=e*o,M=h*a,z=h*o;i[0]=a*u,i[4]=-c,i[8]=o*u,i[1]=v*c+z,i[5]=e*u,i[9]=w*c-M,i[2]=M*c-w,i[6]=h*u,i[10]=z*c+v}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},makeRotationFromQuaternion:function(t){var i=this.elements,n=t._x,s=t._y,r=t._z,e=t._w,h=n+n,a=s+s,o=r+r,u=n*h,c=n*a,l=n*o,m=s*a,f=s*o,y=r*o,x=e*h,d=e*a,p=e*o;return i[0]=1-(m+y),i[4]=c-p,i[8]=l+d,i[1]=c+p,i[5]=1-(u+y),i[9]=f-x,i[2]=l-d,i[6]=f+x,i[10]=1-(u+m),i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},lookAt:function(){var t=new s,i=new s,n=new s;return function(s,r,e){var h=this.elements;return n.subVectors(s,r),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(e,n),0===t.lengthSq()&&(1===Math.abs(e.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(e,n)),t.normalize(),i.crossVectors(n,t),h[0]=t.x,h[4]=i.x,h[8]=n.x,h[1]=t.y,h[5]=i.y,h[9]=n.y,h[2]=t.z,h[6]=i.z,h[10]=n.z,this}}(),multiply:function(t,i){return void 0!==i?(console.warn("GLMath.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,i)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,i){var n=t.elements,s=i.elements,r=this.elements,e=n[0],h=n[4],a=n[8],o=n[12],u=n[1],c=n[5],l=n[9],m=n[13],f=n[2],y=n[6],x=n[10],d=n[14],p=n[3],g=n[7],v=n[11],w=n[15],M=s[0],z=s[4],b=s[8],_=s[12],S=s[1],P=s[5],k=s[9],E=s[13],V=s[2],C=s[6],T=s[10],q=s[14],A=s[3],F=s[7],O=s[11],R=s[15];return r[0]=e*M+h*S+a*V+o*A,r[4]=e*z+h*P+a*C+o*F,r[8]=e*b+h*k+a*T+o*O,r[12]=e*_+h*E+a*q+o*R,r[1]=u*M+c*S+l*V+m*A,r[5]=u*z+c*P+l*C+m*F,r[9]=u*b+c*k+l*T+m*O,r[13]=u*_+c*E+l*q+m*R,r[2]=f*M+y*S+x*V+d*A,r[6]=f*z+y*P+x*C+d*F,r[10]=f*b+y*k+x*T+d*O,r[14]=f*_+y*E+x*q+d*R,r[3]=p*M+g*S+v*V+w*A,r[7]=p*z+g*P+v*C+w*F,r[11]=p*b+g*k+v*T+w*O,r[15]=p*_+g*E+v*q+w*R,this},multiplyScalar:function(t){var i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this},applyToBufferAttribute:function(){var t=new s;return function(i){for(var n=0,s=i.count;n<s;n++)t.x=i.getX(n),t.y=i.getY(n),t.z=i.getZ(n),t.applyMatrix4(this),i.setXYZ(n,t.x,t.y,t.z);return i}}(),determinant:function(){var t=this.elements,i=t[0],n=t[4],s=t[8],r=t[12],e=t[1],h=t[5],a=t[9],o=t[13],u=t[2],c=t[6],l=t[10],m=t[14];return t[3]*(+r*a*c-s*o*c-r*h*l+n*o*l+s*h*m-n*a*m)+t[7]*(+i*a*m-i*o*l+r*e*l-s*e*m+s*o*u-r*a*u)+t[11]*(+i*o*c-i*h*m-r*e*c+n*e*m+r*h*u-n*o*u)+t[15]*(-s*h*u-i*a*c+i*h*l+s*e*c-n*e*l+n*a*u)},transpose:function(){var t,i=this.elements;return t=i[1],i[1]=i[4],i[4]=t,t=i[2],i[2]=i[8],i[8]=t,t=i[6],i[6]=i[9],i[9]=t,t=i[3],i[3]=i[12],i[12]=t,t=i[7],i[7]=i[13],i[13]=t,t=i[11],i[11]=i[14],i[14]=t,this},setPosition:function(t){var i=this.elements;return i[12]=t.x,i[13]=t.y,i[14]=t.z,this},getInverse:function(t,i){var n=this.elements,s=t.elements,r=s[0],e=s[1],h=s[2],a=s[3],o=s[4],u=s[5],c=s[6],l=s[7],m=s[8],f=s[9],y=s[10],x=s[11],d=s[12],p=s[13],g=s[14],v=s[15],w=f*g*l-p*y*l+p*c*x-u*g*x-f*c*v+u*y*v,M=d*y*l-m*g*l-d*c*x+o*g*x+m*c*v-o*y*v,z=m*p*l-d*f*l+d*u*x-o*p*x-m*u*v+o*f*v,b=d*f*c-m*p*c-d*u*y+o*p*y+m*u*g-o*f*g,_=r*w+e*M+h*z+a*b;if(0===_){var S="GLMath.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===i)throw new Error(S);return console.warn(S),this.identity()}var P=1/_;return n[0]=w*P,n[1]=(p*y*a-f*g*a-p*h*x+e*g*x+f*h*v-e*y*v)*P,n[2]=(u*g*a-p*c*a+p*h*l-e*g*l-u*h*v+e*c*v)*P,n[3]=(f*c*a-u*y*a-f*h*l+e*y*l+u*h*x-e*c*x)*P,n[4]=M*P,n[5]=(m*g*a-d*y*a+d*h*x-r*g*x-m*h*v+r*y*v)*P,n[6]=(d*c*a-o*g*a-d*h*l+r*g*l+o*h*v-r*c*v)*P,n[7]=(o*y*a-m*c*a+m*h*l-r*y*l-o*h*x+r*c*x)*P,n[8]=z*P,n[9]=(d*f*a-m*p*a-d*e*x+r*p*x+m*e*v-r*f*v)*P,n[10]=(o*p*a-d*u*a+d*e*l-r*p*l-o*e*v+r*u*v)*P,n[11]=(m*u*a-o*f*a-m*e*l+r*f*l+o*e*x-r*u*x)*P,n[12]=b*P,n[13]=(m*p*h-d*f*h+d*e*y-r*p*y-m*e*g+r*f*g)*P,n[14]=(d*u*h-o*p*h-d*e*c+r*p*c+o*e*g-r*u*g)*P,n[15]=(o*f*h-m*u*h+m*e*c-r*f*c-o*e*y+r*u*y)*P,this},scale:function(t){var i=this.elements,n=t.x,s=t.y,r=t.z;return i[0]*=n,i[4]*=s,i[8]*=r,i[1]*=n,i[5]*=s,i[9]*=r,i[2]*=n,i[6]*=s,i[10]*=r,i[3]*=n,i[7]*=s,i[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(i,n,s))},makeTranslation:function(t,i,n){return this.set(1,0,0,t,0,1,0,i,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var i=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1),this},makeRotationY:function(t){var i=Math.cos(t),n=Math.sin(t);return this.set(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1),this},makeRotationZ:function(t){var i=Math.cos(t),n=Math.sin(t);return this.set(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,i){var n=Math.cos(i),s=Math.sin(i),r=1-n,e=t.x,h=t.y,a=t.z,o=r*e,u=r*h;return this.set(o*e+n,o*h-s*a,o*a+s*h,0,o*h+s*a,u*h+n,u*a-s*e,0,o*a-s*h,u*a+s*e,r*a*a+n,0,0,0,0,1),this},makeScale:function(t,i,n){return this.set(t,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,i,n){return this.set(1,i,n,0,t,1,n,0,t,i,1,0,0,0,0,1),this},compose:function(t,i,n){return this.makeRotationFromQuaternion(i),this.scale(n),this.setPosition(t),this},decompose:function(){var t=new s,i=new n;return function(n,s,r){var e=this.elements,h=t.set(e[0],e[1],e[2]).length(),a=t.set(e[4],e[5],e[6]).length(),o=t.set(e[8],e[9],e[10]).length();this.determinant()<0&&(h=-h),n.x=e[12],n.y=e[13],n.z=e[14],i.copy(this);var u=1/h,c=1/a,l=1/o;return i.elements[0]*=u,i.elements[1]*=u,i.elements[2]*=u,i.elements[4]*=c,i.elements[5]*=c,i.elements[6]*=c,i.elements[8]*=l,i.elements[9]*=l,i.elements[10]*=l,s.setFromRotationMatrix(i),r.x=h,r.y=a,r.z=o,this}}(),makePerspective:function(t,i,n,s,r,e){void 0===e&&console.warn("GLMath.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var h=this.elements,a=2*r/(i-t),o=2*r/(n-s),u=(i+t)/(i-t),c=(n+s)/(n-s),l=-(e+r)/(e-r),m=-2*e*r/(e-r);return h[0]=a,h[4]=0,h[8]=u,h[12]=0,h[1]=0,h[5]=o,h[9]=c,h[13]=0,h[2]=0,h[6]=0,h[10]=l,h[14]=m,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this},makeOrthographic:function(t,i,n,s,r,e){var h=this.elements,a=1/(i-t),o=1/(n-s),u=1/(e-r),c=(i+t)*a,l=(n+s)*o,m=(e+r)*u;return h[0]=2*a,h[4]=0,h[8]=0,h[12]=-c,h[1]=0,h[5]=2*o,h[9]=0,h[13]=-l,h[2]=0,h[6]=0,h[10]=-2*u,h[14]=-m,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this},equals:function(t){for(var i=this.elements,n=t.elements,s=0;s<16;s++)if(i[s]!==n[s])return!1;return!0},fromArray:function(t,i){void 0===i&&(i=0);for(var n=0;n<16;n++)this.elements[n]=t[n+i];return this},toArray:function(t,i){void 0===t&&(t=[]),void 0===i&&(i=0);var n=this.elements;return t[i]=n[0],t[i+1]=n[1],t[i+2]=n[2],t[i+3]=n[3],t[i+4]=n[4],t[i+5]=n[5],t[i+6]=n[6],t[i+7]=n[7],t[i+8]=n[8],t[i+9]=n[9],t[i+10]=n[10],t[i+11]=n[11],t[i+12]=n[12],t[i+13]=n[13],t[i+14]=n[14],t[i+15]=n[15],t}}),Object.assign(s.prototype,{isVector3:!0,set:function(t,i,n){return this.x=t,this.y=i,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,i){return void 0!==i?(console.warn("GLMath.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this},sub:function(t,i){return void 0!==i?(console.warn("GLMath.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this},multiply:function(t,i){return void 0!==i?(console.warn("GLMath.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this},applyEuler:function(){var t=new r;return function(i){return i&&i.isEuler||console.error("GLMath.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(i))}}(),applyAxisAngle:function(){var t=new r;return function(i,n){return this.applyQuaternion(t.setFromAxisAngle(i,n))}}(),applyMatrix3:function(t){var i=this.x,n=this.y,s=this.z,r=t.elements;return this.x=r[0]*i+r[3]*n+r[6]*s,this.y=r[1]*i+r[4]*n+r[7]*s,this.z=r[2]*i+r[5]*n+r[8]*s,this},applyMatrix4:function(t){var i=this.x,n=this.y,s=this.z,r=t.elements,e=1/(r[3]*i+r[7]*n+r[11]*s+r[15]);return this.x=(r[0]*i+r[4]*n+r[8]*s+r[12])*e,this.y=(r[1]*i+r[5]*n+r[9]*s+r[13])*e,this.z=(r[2]*i+r[6]*n+r[10]*s+r[14])*e,this},applyQuaternion:function(t){var i=this.x,n=this.y,s=this.z,r=t.x,e=t.y,h=t.z,a=t.w,o=a*i+e*s-h*n,u=a*n+h*i-r*s,c=a*s+r*n-e*i,l=-r*i-e*n-h*s;return this.x=o*a+l*-r+u*-h-c*-e,this.y=u*a+l*-e+c*-r-o*-h,this.z=c*a+l*-h+o*-e-u*-r,this},project:function(){var t=new n;return function(i){return t.multiplyMatrices(i.projectionMatrix,t.getInverse(i.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new n;return function(i){return t.multiplyMatrices(i.matrixWorld,t.getInverse(i.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var i=this.x,n=this.y,s=this.z,r=t.elements;return this.x=r[0]*i+r[4]*n+r[8]*s,this.y=r[1]*i+r[5]*n+r[9]*s,this.z=r[2]*i+r[6]*n+r[10]*s,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this},clampScalar:function(){var t=new s,i=new s;return function(n,s){return t.set(n,n,n),i.set(s,s,s),this.clamp(t,i)}}(),clampLength:function(t,i){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(i,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this},lerpVectors:function(t,i,n){return this.subVectors(i,t).multiplyScalar(n).add(t)},cross:function(t,i){return void 0!==i?(console.warn("GLMath.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)},crossVectors:function(t,i){var n=t.x,s=t.y,r=t.z,e=i.x,h=i.y,a=i.z;return this.x=s*a-r*h,this.y=r*e-n*a,this.z=n*h-s*e,this},projectOnVector:function(t){var i=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(i)},projectOnPlane:function(){var t=new s;return function(i){return t.copy(this).projectOnVector(i),this.sub(t)}}(),reflect:function(){var t=new s;return function(i){return this.sub(t.copy(i).multiplyScalar(2*this.dot(i)))}}(),angleTo:function(t){var i=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(_.clamp(i,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var i=this.x-t.x,n=this.y-t.y,s=this.z-t.z;return i*i+n*n+s*s},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var i=Math.sin(t.phi)*t.radius;return this.x=i*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=i*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this},setFromMatrixScale:function(t){var i=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=n,this.z=s,this},setFromMatrixColumn:function(t,i){return this.fromArray(t.elements,4*i)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this.z=t[i+2],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t},fromBufferAttribute:function(t,i,n){return void 0!==n&&console.warn("GLMath.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}}),Object.assign(r,{slerp:function(t,i,n,s){return n.copy(t).slerp(i,s)},slerpFlat:function(t,i,n,s,r,e,h){var a=n[s+0],o=n[s+1],u=n[s+2],c=n[s+3],l=r[e+0],m=r[e+1],f=r[e+2],y=r[e+3];if(c!==y||a!==l||o!==m||u!==f){var x=1-h,d=a*l+o*m+u*f+c*y,p=d>=0?1:-1,g=1-d*d;if(g>Number.EPSILON){var v=Math.sqrt(g),w=Math.atan2(v,d*p);x=Math.sin(x*w)/v,h=Math.sin(h*w)/v}var M=h*p;if(a=a*x+l*M,o=o*x+m*M,u=u*x+f*M,c=c*x+y*M,x===1-h){var z=1/Math.sqrt(a*a+o*o+u*u+c*c);a*=z,o*=z,u*=z,c*=z}}t[i]=a,t[i+1]=o,t[i+2]=u,t[i+3]=c}}),Object.defineProperties(r.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(r.prototype,{set:function(t,i,n,s){return this._x=t,this._y=i,this._z=n,this._w=s,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,i){if(!t||!t.isEuler)throw new Error("GLMath.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,s=t._y,r=t._z,e=t.order,h=Math.cos,a=Math.sin,o=h(n/2),u=h(s/2),c=h(r/2),l=a(n/2),m=a(s/2),f=a(r/2);return"XYZ"===e?(this._x=l*u*c+o*m*f,this._y=o*m*c-l*u*f,this._z=o*u*f+l*m*c,this._w=o*u*c-l*m*f):"YXZ"===e?(this._x=l*u*c+o*m*f,this._y=o*m*c-l*u*f,this._z=o*u*f-l*m*c,this._w=o*u*c+l*m*f):"ZXY"===e?(this._x=l*u*c-o*m*f,this._y=o*m*c+l*u*f,this._z=o*u*f+l*m*c,this._w=o*u*c-l*m*f):"ZYX"===e?(this._x=l*u*c-o*m*f,this._y=o*m*c+l*u*f,this._z=o*u*f-l*m*c,this._w=o*u*c+l*m*f):"YZX"===e?(this._x=l*u*c+o*m*f,this._y=o*m*c+l*u*f,this._z=o*u*f-l*m*c,this._w=o*u*c-l*m*f):"XZY"===e&&(this._x=l*u*c-o*m*f,this._y=o*m*c-l*u*f,this._z=o*u*f+l*m*c,this._w=o*u*c+l*m*f),!1!==i&&this.onChangeCallback(),this},setFromAxisAngle:function(t,i){var n=i/2,s=Math.sin(n);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var i,n=t.elements,s=n[0],r=n[4],e=n[8],h=n[1],a=n[5],o=n[9],u=n[2],c=n[6],l=n[10],m=s+a+l;return m>0?(i=.5/Math.sqrt(m+1),this._w=.25/i,this._x=(c-o)*i,this._y=(e-u)*i,this._z=(h-r)*i):s>a&&s>l?(i=2*Math.sqrt(1+s-a-l),this._w=(c-o)/i,this._x=.25*i,this._y=(r+h)/i,this._z=(e+u)/i):a>l?(i=2*Math.sqrt(1+a-s-l),this._w=(e-u)/i,this._x=(r+h)/i,this._y=.25*i,this._z=(o+c)/i):(i=2*Math.sqrt(1+l-s-a),this._w=(h-r)/i,this._x=(e+u)/i,this._y=(o+c)/i,this._z=.25*i),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,i=new s;return function(n,r){return void 0===i&&(i=new s),(t=n.dot(r)+1)<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?i.set(-n.y,n.x,0):i.set(0,-n.z,n.y)):i.crossVectors(n,r),this._x=i.x,this._y=i.y,this._z=i.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,i){return void 0!==i?(console.warn("GLMath.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,i){var n=t._x,s=t._y,r=t._z,e=t._w,h=i._x,a=i._y,o=i._z,u=i._w;return this._x=n*u+e*h+s*o-r*a,this._y=s*u+e*a+r*h-n*o,this._z=r*u+e*o+n*a-s*h,this._w=e*u-n*h-s*a-r*o,this.onChangeCallback(),this},slerp:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var n=this._x,s=this._y,r=this._z,e=this._w,h=e*t._w+n*t._x+s*t._y+r*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=e,this._x=n,this._y=s,this._z=r,this;var a=Math.sqrt(1-h*h);if(Math.abs(a)<.001)return this._w=.5*(e+this._w),this._x=.5*(n+this._x),this._y=.5*(s+this._y),this._z=.5*(r+this._z),this;var o=Math.atan2(a,h),u=Math.sin((1-i)*o)/a,c=Math.sin(i*o)/a;return this._w=e*u+this._w*c,this._x=n*u+this._x*c,this._y=s*u+this._y*c,this._z=r*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,i){return void 0===i&&(i=0),this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this.onChangeCallback(),this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),e.prototype=Object.assign(Object.create(i.prototype),{constructor:e,interpolate_:function(t,i,n,s){for(var e=this.resultBuffer,h=this.sampleValues,a=this.valueSize,o=t*a,u=(n-i)/(s-i),c=o+a;o!==c;o+=4)r.slerpFlat(e,0,h,o-a,h,o,u);return e}}),h.prototype=Object.assign(Object.create(i.prototype),{constructor:h,interpolate_:function(t,i,n,s){for(var r=this.resultBuffer,e=this.sampleValues,h=this.valueSize,a=t*h,o=a-h,u=(n-i)/(s-i),c=1-u,l=0;l!==h;++l)r[l]=e[o+l]*c+e[a+l]*u;return r}}),a.prototype=Object.assign(Object.create(i.prototype),{constructor:a,interpolate_:function(t){return this.copySampleValue_(t-1)}});o.prototype=Object.assign(Object.create(i.prototype),{constructor:o,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,i,n){var s=this.parameterPositions,r=t-2,e=t+1,h=s[r],a=s[e];if(void 0===h)switch(this.getSettings_().endingStart){case 2401:r=t,h=2*i-n;break;case 2402:h=i+s[r=s.length-2]-s[r+1];break;default:r=t,h=n}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:e=t,a=2*n-i;break;case 2402:e=1,a=n+s[1]-s[0];break;default:e=t-1,a=i}var o=.5*(n-i),u=this.valueSize;this._weightPrev=o/(i-h),this._weightNext=o/(a-n),this._offsetPrev=r*u,this._offsetNext=e*u},interpolate_:function(t,i,n,s){for(var r=this.resultBuffer,e=this.sampleValues,h=this.valueSize,a=t*h,o=a-h,u=this._offsetPrev,c=this._offsetNext,l=this._weightPrev,m=this._weightNext,f=(n-i)/(s-i),y=f*f,x=y*f,d=-l*x+2*l*y-l*f,p=(1+l)*x+(-1.5-2*l)*y+(-.5+l)*f+1,g=(-1-m)*x+(1.5+m)*y+.5*f,v=m*x-m*y,w=0;w!==h;++w)r[w]=d*e[u+w]+p*e[o+w]+g*e[a+w]+v*e[c+w];return r}}),Object.assign(u.prototype,{set:function(t,i){return this.start.copy(t),this.end.copy(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new s).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new s).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,i){var n=i||new s;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new s,i=new s;return function(n,s){t.subVectors(n,this.start),i.subVectors(this.end,this.start);var r=i.dot(i),e=i.dot(t)/r;return s&&(e=_.clamp(e,0,1)),e}}(),closestPointToPoint:function(t,i,n){var r=this.closestPointToPointParameter(t,i),e=n||new s;return this.delta(e).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(c.prototype,{isMatrix3:!0,set:function(t,i,n,s,r,e,h,a,o){var u=this.elements;return u[0]=t,u[1]=s,u[2]=h,u[3]=i,u[4]=r,u[5]=a,u[6]=n,u[7]=e,u[8]=o,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var i=this.elements,n=t.elements;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],this},setFromMatrix4:function(t){var i=t.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this},applyToBufferAttribute:function(){var t=new s;return function(i){for(var n=0,s=i.count;n<s;n++)t.x=i.getX(n),t.y=i.getY(n),t.z=i.getZ(n),t.applyMatrix3(this),i.setXYZ(n,t.x,t.y,t.z);return i}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,i){var n=t.elements,s=i.elements,r=this.elements,e=n[0],h=n[3],a=n[6],o=n[1],u=n[4],c=n[7],l=n[2],m=n[5],f=n[8],y=s[0],x=s[3],d=s[6],p=s[1],g=s[4],v=s[7],w=s[2],M=s[5],z=s[8];return r[0]=e*y+h*p+a*w,r[3]=e*x+h*g+a*M,r[6]=e*d+h*v+a*z,r[1]=o*y+u*p+c*w,r[4]=o*x+u*g+c*M,r[7]=o*d+u*v+c*z,r[2]=l*y+m*p+f*w,r[5]=l*x+m*g+f*M,r[8]=l*d+m*v+f*z,this},multiplyScalar:function(t){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this},determinant:function(){var t=this.elements,i=t[0],n=t[1],s=t[2],r=t[3],e=t[4],h=t[5],a=t[6],o=t[7],u=t[8];return i*e*u-i*h*o-n*r*u+n*h*a+s*r*o-s*e*a},getInverse:function(t,i){t&&t.isMatrix4&&console.error("GLMath.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,s=this.elements,r=n[0],e=n[1],h=n[2],a=n[3],o=n[4],u=n[5],c=n[6],l=n[7],m=n[8],f=m*o-u*l,y=u*c-m*a,x=l*a-o*c,d=r*f+e*y+h*x;if(0===d){var p="GLMath.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===i)throw new Error(p);return console.warn(p),this.identity()}var g=1/d;return s[0]=f*g,s[1]=(h*l-m*e)*g,s[2]=(u*e-h*o)*g,s[3]=y*g,s[4]=(m*r-h*c)*g,s[5]=(h*a-u*r)*g,s[6]=x*g,s[7]=(e*c-l*r)*g,s[8]=(o*r-e*a)*g,this},transpose:function(){var t,i=this.elements;return t=i[1],i[1]=i[3],i[3]=t,t=i[2],i[2]=i[6],i[6]=t,t=i[5],i[5]=i[7],i[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var i=this.elements;return t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],this},setUvTransform:function(t,i,n,s,r,e,h){var a=Math.cos(r),o=Math.sin(r);this.set(n*a,n*o,-n*(a*e+o*h)+e+t,-s*o,s*a,-s*(-o*e+a*h)+h+i,0,0,1)},scale:function(t,i){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=i,n[4]*=i,n[7]*=i,this},rotate:function(t){var i=Math.cos(t),n=Math.sin(t),s=this.elements,r=s[0],e=s[3],h=s[6],a=s[1],o=s[4],u=s[7];return s[0]=i*r+n*a,s[3]=i*e+n*o,s[6]=i*h+n*u,s[1]=-n*r+i*a,s[4]=-n*e+i*o,s[7]=-n*h+i*u,this},translate:function(t,i){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=i*n[2],n[4]+=i*n[5],n[7]+=i*n[8],this},equals:function(t){for(var i=this.elements,n=t.elements,s=0;s<9;s++)if(i[s]!==n[s])return!1;return!0},fromArray:function(t,i){void 0===i&&(i=0);for(var n=0;n<9;n++)this.elements[n]=t[n+i];return this},toArray:function(t,i){void 0===t&&(t=[]),void 0===i&&(i=0);var n=this.elements;return t[i]=n[0],t[i+1]=n[1],t[i+2]=n[2],t[i+3]=n[3],t[i+4]=n[4],t[i+5]=n[5],t[i+6]=n[6],t[i+7]=n[7],t[i+8]=n[8],t}}),Object.assign(l.prototype,{set:function(t,i){return this.normal.copy(t),this.constant=i,this},setComponents:function(t,i,n,s){return this.normal.set(t,i,n),this.constant=s,this},setFromNormalAndCoplanarPoint:function(t,i){return this.normal.copy(t),this.constant=-i.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new s,i=new s;return function(n,s,r){var e=t.subVectors(r,s).cross(i.subVectors(n,s)).normalize();return this.setFromNormalAndCoplanarPoint(e,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,i){return(i||new s).copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new s;return function(i,n){var r=n||new s,e=i.delta(t),h=this.normal.dot(e);if(0!==h){var a=-(i.start.dot(this.normal)+this.constant)/h;if(!(a<0||a>1))return r.copy(e).multiplyScalar(a).add(i.start)}else if(0===this.distanceToPoint(i.start))return r.copy(i.start)}}(),intersectsLine:function(t){var i=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return i<0&&n>0||n<0&&i>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new s).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new s,i=new c;return function(n,s){var r=s||i.getNormalMatrix(n),e=this.coplanarPoint(t).applyMatrix4(n),h=this.normal.applyMatrix3(r).normalize();return this.constant=-e.dot(h),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(m,{normal:function(){var t=new s;return function(i,n,r,e){var h=e||new s;h.subVectors(r,n),t.subVectors(i,n),h.cross(t);var a=h.lengthSq();return a>0?h.multiplyScalar(1/Math.sqrt(a)):h.set(0,0,0)}}(),barycoordFromPoint:function(){var t=new s,i=new s,n=new s;return function(r,e,h,a,o){t.subVectors(a,e),i.subVectors(h,e),n.subVectors(r,e);var u=t.dot(t),c=t.dot(i),l=t.dot(n),m=i.dot(i),f=i.dot(n),y=u*m-c*c,x=o||new s;if(0===y)return x.set(-2,-1,-1);var d=1/y,p=(m*l-c*f)*d,g=(u*f-c*l)*d;return x.set(1-p-g,g,p)}}(),containsPoint:function(){var t=new s;return function(i,n,s,r){var e=m.barycoordFromPoint(i,n,s,r,t);return e.x>=0&&e.y>=0&&e.x+e.y<=1}}()}),Object.assign(m.prototype,{set:function(t,i,n){return this.a.copy(t),this.b.copy(i),this.c.copy(n),this},setFromPointsAndIndices:function(t,i,n,s){return this.a.copy(t[i]),this.b.copy(t[n]),this.c.copy(t[s]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new s,i=new s;return function(){return t.subVectors(this.c,this.b),i.subVectors(this.a,this.b),.5*t.cross(i).length()}}(),midpoint:function(t){return(t||new s).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return m.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new l).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,i){return m.barycoordFromPoint(t,this.a,this.b,this.c,i)},containsPoint:function(t){return m.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t=new l,i=[new u,new u,new u],n=new s,r=new s;return function(e,h){var a=h||new s,o=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(e,n),!0===this.containsPoint(n))a.copy(n);else{i[0].set(this.a,this.b),i[1].set(this.b,this.c),i[2].set(this.c,this.a);for(var u=0;u<i.length;u++){i[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<o&&(o=c,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Object.assign(f.prototype,{set:function(t,i,n){return this.radius=t,this.phi=i,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(_.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(y.prototype,{set:function(t,i,n){return this.radius=t,this.theta=i,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(x.prototype,{isBox3:!0,set:function(t,i){return this.min.copy(t),this.max.copy(i),this},setFromArray:function(t){for(var i=1/0,n=1/0,s=1/0,r=-1/0,e=-1/0,h=-1/0,a=0,o=t.length;a<o;a+=3){var u=t[a],c=t[a+1],l=t[a+2];u<i&&(i=u),c<n&&(n=c),l<s&&(s=l),u>r&&(r=u),c>e&&(e=c),l>h&&(h=l)}return this.min.set(i,n,s),this.max.set(r,e,h),this},setFromBufferAttribute:function(t){for(var i=1/0,n=1/0,s=1/0,r=-1/0,e=-1/0,h=-1/0,a=0,o=t.count;a<o;a++){var u=t.getX(a),c=t.getY(a),l=t.getZ(a);u<i&&(i=u),c<n&&(n=c),l<s&&(s=l),u>r&&(r=u),c>e&&(e=c),l>h&&(h=l)}return this.min.set(i,n,s),this.max.set(r,e,h),this},setFromPoints:function(t){this.makeEmpty();for(var i=0,n=t.length;i<n;i++)this.expandByPoint(t[i]);return this},setFromCenterAndSize:function(){var t=new s;return function(i,n){var s=t.copy(n).multiplyScalar(.5);return this.min.copy(i).sub(s),this.max.copy(i).add(s),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var i=t||new s;return this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var i=t||new s;return this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){function t(t){var s=t.geometry;if(void 0!==s)if(s.isGeometry){var h=s.vertices;for(n=0,r=h.length;n<r;n++)e.copy(h[n]),e.applyMatrix4(t.matrixWorld),i.expandByPoint(e)}else if(s.isBufferGeometry){var a=s.attributes.position;if(void 0!==a)for(n=0,r=a.count;n<r;n++)e.fromBufferAttribute(a,n).applyMatrix4(t.matrixWorld),i.expandByPoint(e)}}var i,n,r,e=new s;return function(n){return i=this,n.updateMatrixWorld(!0),n.traverse(t),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,i){return(i||new s).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new s;return function(i){return this.clampPoint(i.center,t),t.distanceToSquared(i.center)<=i.radius*i.radius}}(),intersectsPlane:function(t){var i,n;return t.normal.x>0?(i=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(i=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(i+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(i+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(i+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(i+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),i<=t.constant&&n>=t.constant},clampPoint:function(t,i){return(i||new s).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new s;return function(i){return t.copy(i).clamp(this.min,this.max).sub(i).length()}}(),getBoundingSphere:function(){var t=new s;return function(i){var n=i||new d;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new s,new s,new s,new s,new s,new s,new s,new s];return function(i){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(d.prototype,{set:function(t,i){return this.center.copy(t),this.radius=i,this},setFromPoints:function(){var t=new x;return function(i,n){var s=this.center;void 0!==n?s.copy(n):t.setFromPoints(i).getCenter(s);for(var r=0,e=0,h=i.length;e<h;e++)r=Math.max(r,s.distanceToSquared(i[e]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var i=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=i*i},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,i){var n=this.center.distanceToSquared(t),r=i||new s;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var i=t||new x;return i.set(this.center,this.center),i.expandByScalar(this.radius),i},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(p.prototype,{set:function(t,i,n,s,r,e){var h=this.planes;return h[0].copy(t),h[1].copy(i),h[2].copy(n),h[3].copy(s),h[4].copy(r),h[5].copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var i=this.planes,n=0;n<6;n++)i[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var i=this.planes,n=t.elements,s=n[0],r=n[1],e=n[2],h=n[3],a=n[4],o=n[5],u=n[6],c=n[7],l=n[8],m=n[9],f=n[10],y=n[11],x=n[12],d=n[13],p=n[14],g=n[15];return i[0].setComponents(h-s,c-a,y-l,g-x).normalize(),i[1].setComponents(h+s,c+a,y+l,g+x).normalize(),i[2].setComponents(h+r,c+o,y+m,g+d).normalize(),i[3].setComponents(h-r,c-o,y-m,g-d).normalize(),i[4].setComponents(h-e,c-u,y-f,g-p).normalize(),i[5].setComponents(h+e,c+u,y+f,g+p).normalize(),this},intersectsObject:function(){var t=new d;return function(i){var n=i.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(i.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new d;return function(i){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(i.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var i=this.planes,n=t.center,s=-t.radius,r=0;r<6;r++){if(i[r].distanceToPoint(n)<s)return!1}return!0},intersectsBox:function(){var t=new s,i=new s;return function(n){for(var s=this.planes,r=0;r<6;r++){var e=s[r];t.x=e.normal.x>0?n.min.x:n.max.x,i.x=e.normal.x>0?n.max.x:n.min.x,t.y=e.normal.y>0?n.min.y:n.max.y,i.y=e.normal.y>0?n.max.y:n.min.y,t.z=e.normal.z>0?n.min.z:n.max.z,i.z=e.normal.z>0?n.max.z:n.min.z;var h=e.distanceToPoint(t),a=e.distanceToPoint(i);if(h<0&&a<0)return!1}return!0}}(),containsPoint:function(t){for(var i=this.planes,n=0;n<6;n++)if(i[n].distanceToPoint(t)<0)return!1;return!0}}),Object.assign(g.prototype,{set:function(t,i){return this.origin.copy(t),this.direction.copy(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,i){return(i||new s).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new s;return function(i){return this.origin.copy(this.at(i,t)),this}}(),closestPointToPoint:function(t,i){var n=i||new s;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new s;return function(i){var n=t.subVectors(i,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(i):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(i))}}(),distanceSqToSegment:function(){var t=new s,i=new s,n=new s;return function(s,r,e,h){t.copy(s).add(r).multiplyScalar(.5),i.copy(r).sub(s).normalize(),n.copy(this.origin).sub(t);var a,o,u,c,l=.5*s.distanceTo(r),m=-this.direction.dot(i),f=n.dot(this.direction),y=-n.dot(i),x=n.lengthSq(),d=Math.abs(1-m*m);if(d>0)if(a=m*y-f,o=m*f-y,c=l*d,a>=0)if(o>=-c)if(o<=c){var p=1/d;u=(a*=p)*(a+m*(o*=p)+2*f)+o*(m*a+o+2*y)+x}else o=l,u=-(a=Math.max(0,-(m*o+f)))*a+o*(o+2*y)+x;else o=-l,u=-(a=Math.max(0,-(m*o+f)))*a+o*(o+2*y)+x;else o<=-c?u=-(a=Math.max(0,-(-m*l+f)))*a+(o=a>0?-l:Math.min(Math.max(-l,-y),l))*(o+2*y)+x:o<=c?(a=0,u=(o=Math.min(Math.max(-l,-y),l))*(o+2*y)+x):u=-(a=Math.max(0,-(m*l+f)))*a+(o=a>0?l:Math.min(Math.max(-l,-y),l))*(o+2*y)+x;else o=m>0?-l:l,u=-(a=Math.max(0,-(m*o+f)))*a+o*(o+2*y)+x;return e&&e.copy(this.direction).multiplyScalar(a).add(this.origin),h&&h.copy(i).multiplyScalar(o).add(t),u}}(),intersectSphere:function(){var t=new s;return function(i,n){t.subVectors(i.center,this.origin);var s=t.dot(this.direction),r=t.dot(t)-s*s,e=i.radius*i.radius;if(r>e)return null;var h=Math.sqrt(e-r),a=s-h,o=s+h;return a<0&&o<0?null:a<0?this.at(o,n):this.at(a,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var i=t.normal.dot(this.direction);if(0===i)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/i;return n>=0?n:null},intersectPlane:function(t,i){var n=this.distanceToPlane(t);return null===n?null:this.at(n,i)},intersectsPlane:function(t){var i=t.distanceToPoint(this.origin);if(0===i)return!0;return t.normal.dot(this.direction)*i<0},intersectBox:function(t,i){var n,s,r,e,h,a,o=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,l=this.origin;return o>=0?(n=(t.min.x-l.x)*o,s=(t.max.x-l.x)*o):(n=(t.max.x-l.x)*o,s=(t.min.x-l.x)*o),u>=0?(r=(t.min.y-l.y)*u,e=(t.max.y-l.y)*u):(r=(t.max.y-l.y)*u,e=(t.min.y-l.y)*u),n>e||r>s?null:((r>n||n!=n)&&(n=r),(e<s||s!=s)&&(s=e),c>=0?(h=(t.min.z-l.z)*c,a=(t.max.z-l.z)*c):(h=(t.max.z-l.z)*c,a=(t.min.z-l.z)*c),n>a||h>s?null:((h>n||n!=n)&&(n=h),(a<s||s!=s)&&(s=a),s<0?null:this.at(n>=0?n:s,i)))},intersectsBox:function(){var t=new s;return function(i){return null!==this.intersectBox(i,t)}}(),intersectTriangle:function(){var t=new s,i=new s,n=new s,r=new s;return function(s,e,h,a,o){i.subVectors(e,s),n.subVectors(h,s),r.crossVectors(i,n);var u,c=this.direction.dot(r);if(c>0){if(a)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}t.subVectors(this.origin,s);var l=u*this.direction.dot(n.crossVectors(t,n));if(l<0)return null;var m=u*this.direction.dot(i.cross(t));if(m<0)return null;if(l+m>c)return null;var f=-u*t.dot(r);return f<0?null:this.at(f/c,o)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.defineProperties(v.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(v.prototype,{isVector2:!0,set:function(t,i){return this.x=t,this.y=i,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,i){return void 0!==i?(console.warn("GLMath.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this},sub:function(t,i){return void 0!==i?(console.warn("GLMath.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var i=this.x,n=this.y,s=t.elements;return this.x=s[0]*i+s[3]*n+s[6],this.y=s[1]*i+s[4]*n+s[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this},clampScalar:function(){var t=new v,i=new v;return function(n,s){return t.set(n,n),i.set(s,s),this.clamp(t,i)}}(),clampLength:function(t,i){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(i,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var i=this.x-t.x,n=this.y-t.y;return i*i+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this},lerpVectors:function(t,i,n){return this.subVectors(i,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t},fromBufferAttribute:function(t,i,n){return void 0!==n&&console.warn("GLMath.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this},rotateAround:function(t,i){var n=Math.cos(i),s=Math.sin(i),r=this.x-t.x,e=this.y-t.y;return this.x=r*n-e*s+t.x,this.y=r*s+e*n+t.y,this}}),Object.assign(w.prototype,{set:function(t,i){return this.min.copy(t),this.max.copy(i),this},setFromPoints:function(t){this.makeEmpty();for(var i=0,n=t.length;i<n;i++)this.expandByPoint(t[i]);return this},setFromCenterAndSize:function(){var t=new v;return function(i,n){var s=t.copy(n).multiplyScalar(.5);return this.min.copy(i).sub(s),this.max.copy(i).add(s),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var i=t||new v;return this.isEmpty()?i.set(0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var i=t||new v;return this.isEmpty()?i.set(0,0):i.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,i){return(i||new v).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,i){return(i||new v).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new v;return function(i){return t.copy(i).clamp(this.min,this.max).sub(i).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),M.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],M.DefaultOrder="XYZ",Object.defineProperties(M.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(M.prototype,{isEuler:!0,set:function(t,i,n,s){return this._x=t,this._y=i,this._z=n,this._order=s||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,i,n){var s=_.clamp,r=t.elements,e=r[0],h=r[4],a=r[8],o=r[1],u=r[5],c=r[9],l=r[2],m=r[6],f=r[10];return"XYZ"===(i=i||this._order)?(this._y=Math.asin(s(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-h,e)):(this._x=Math.atan2(m,u),this._z=0)):"YXZ"===i?(this._x=Math.asin(-s(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(a,f),this._z=Math.atan2(o,u)):(this._y=Math.atan2(-l,e),this._z=0)):"ZXY"===i?(this._x=Math.asin(s(m,-1,1)),Math.abs(m)<.99999?(this._y=Math.atan2(-l,f),this._z=Math.atan2(-h,u)):(this._y=0,this._z=Math.atan2(o,e))):"ZYX"===i?(this._y=Math.asin(-s(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(m,f),this._z=Math.atan2(o,e)):(this._x=0,this._z=Math.atan2(-h,u))):"YZX"===i?(this._z=Math.asin(s(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-l,e)):(this._x=0,this._y=Math.atan2(a,f))):"XZY"===i?(this._z=Math.asin(-s(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(m,u),this._y=Math.atan2(a,e)):(this._x=Math.atan2(-c,f),this._y=0)):console.warn("GLMath.Euler: .setFromRotationMatrix() given unsupported order: "+i),this._order=i,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new n;return function(i,n,s){return t.makeRotationFromQuaternion(i),this.setFromRotationMatrix(t,n,s)}}(),setFromVector3:function(t,i){return this.set(t.x,t.y,t.z,i||this._order)},reorder:function(){var t=new r;return function(i){return t.setFromEuler(this),this.setFromQuaternion(t,i)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new s(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(z.prototype,{isVector4:!0,set:function(t,i,n,s){return this.x=t,this.y=i,this.z=n,this.w=s,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,i){return void 0!==i?(console.warn("GLMath.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this.w=t.w+i.w,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this.w+=t.w*i,this},sub:function(t,i){return void 0!==i?(console.warn("GLMath.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this.w=t.w-i.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var i=this.x,n=this.y,s=this.z,r=this.w,e=t.elements;return this.x=e[0]*i+e[4]*n+e[8]*s+e[12]*r,this.y=e[1]*i+e[5]*n+e[9]*s+e[13]*r,this.z=e[2]*i+e[6]*n+e[10]*s+e[14]*r,this.w=e[3]*i+e[7]*n+e[11]*s+e[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var i=Math.sqrt(1-t.w*t.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/i,this.y=t.y/i,this.z=t.z/i),this},setAxisAngleFromRotationMatrix:function(t){var i,n,s,r,e=t.elements,h=e[0],a=e[4],o=e[8],u=e[1],c=e[5],l=e[9],m=e[2],f=e[6],y=e[10];if(Math.abs(a-u)<.01&&Math.abs(o-m)<.01&&Math.abs(l-f)<.01){if(Math.abs(a+u)<.1&&Math.abs(o+m)<.1&&Math.abs(l+f)<.1&&Math.abs(h+c+y-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;var x=(h+1)/2,d=(c+1)/2,p=(y+1)/2,g=(a+u)/4,v=(o+m)/4,w=(l+f)/4;return x>d&&x>p?x<.01?(n=0,s=.707106781,r=.707106781):(s=g/(n=Math.sqrt(x)),r=v/n):d>p?d<.01?(n=.707106781,s=0,r=.707106781):(n=g/(s=Math.sqrt(d)),r=w/s):p<.01?(n=.707106781,s=.707106781,r=0):(n=v/(r=Math.sqrt(p)),s=w/r),this.set(n,s,r,i),this}var M=Math.sqrt((f-l)*(f-l)+(o-m)*(o-m)+(u-a)*(u-a));return Math.abs(M)<.001&&(M=1),this.x=(f-l)/M,this.y=(o-m)/M,this.z=(u-a)/M,this.w=Math.acos((h+c+y-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this.w=Math.max(t.w,Math.min(i.w,this.w)),this},clampScalar:function(){var t,i;return function(n,s){return void 0===t&&(t=new z,i=new z),t.set(n,n,n,n),i.set(s,s,s,s),this.clamp(t,i)}}(),clampLength:function(t,i){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(i,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this.w+=(t.w-this.w)*i,this},lerpVectors:function(t,i,n){return this.subVectors(i,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,i){return void 0===i&&(i=0),this.x=t[i],this.y=t[i+1],this.z=t[i+2],this.w=t[i+3],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t[i+3]=this.w,t},fromBufferAttribute:function(t,i,n){return void 0!==n&&console.warn("GLMath.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this.w=t.getW(i),this}});var S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(b.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,i,n){return this.r=t,this.g=i,this.b=n,this},setHSL:function(){function t(t,i,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(i-t)*n:n<.5?i:n<2/3?t+6*(i-t)*(2/3-n):t}return function(i,n,s){if(i=_.euclideanModulo(i,1),n=_.clamp(n,0,1),s=_.clamp(s,0,1),0===n)this.r=this.g=this.b=s;else{var r=s<=.5?s*(1+n):s+n-s*n,e=2*s-r;this.r=t(e,r,i+1/3),this.g=t(e,r,i),this.b=t(e,r,i-1/3)}return this}}(),setStyle:function(t){function i(i){void 0!==i&&parseFloat(i)<1&&console.warn("GLMath.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var s,r=n[1],e=n[2];switch(r){case"rgb":case"rgba":if(s=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,i(s[5]),this;if(s=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,i(s[5]),this;break;case"hsl":case"hsla":if(s=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){var h=parseFloat(s[1])/360,a=parseInt(s[2],10)/100,o=parseInt(s[3],10)/100;return i(s[5]),this.setHSL(h,a,o)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=(c=n[1]).length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=S[t];void 0!==c?this.setHex(c):console.warn("GLMath.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,i){return void 0===i&&(i=2),this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},copyLinearToGamma:function(t,i){void 0===i&&(i=2);var n=i>0?1/i:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,i=this.g,n=this.b;return this.r=t*t,this.g=i*i,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var i,n,s=t||{h:0,s:0,l:0},r=this.r,e=this.g,h=this.b,a=Math.max(r,e,h),o=Math.min(r,e,h),u=(o+a)/2;if(o===a)i=0,n=0;else{var c=a-o;switch(n=u<=.5?c/(a+o):c/(2-a-o),a){case r:i=(e-h)/c+(e<h?6:0);break;case e:i=(h-r)/c+2;break;case h:i=(r-e)/c+4}i/=6}return s.h=i,s.s=n,s.l=u,s},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,i,n){var s=this.getHSL();return s.h+=t,s.s+=i,s.l+=n,this.setHSL(s.h,s.s,s.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,i){return void 0===i&&(i=0),this.r=t[i],this.g=t[i+1],this.b=t[i+2],this},toArray:function(t,i){return void 0===t&&(t=[]),void 0===i&&(i=0),t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t},toJSON:function(){return this.getHex()}}),t.QuaternionLinearInterpolant=e,t.LinearInterpolant=h,t.DiscreteInterpolant=a,t.CubicInterpolant=o,t.Interpolant=i,t.Triangle=m,t.Math=_,t.Spherical=f,t.Cylindrical=y,t.Plane=l,t.Frustum=p,t.Sphere=d,t.Ray=g,t.Matrix4=n,t.Matrix3=c,t.Box3=x,t.Box2=w,t.Line3=u,t.Euler=M,t.Vector4=z,t.Vector3=s,t.Vector2=v,t.Quaternion=r,t.Color=b,Object.defineProperty(t,"__esModule",{value:!0})});
